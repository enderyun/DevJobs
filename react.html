<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
      descripcion="Listado con empleos y filtros para encontrar el trabajo ideal como desarrollador."
    />
    <link rel="stylesheet" href="./styles.css" />
    <script type="module">
      import React from "https://esm.sh/react?dev";
      import ReactDOM from "https://esm.sh/react-dom/client?dev";
      
      window.React = React;
      window.ReactDOM = ReactDOM;
    </script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      function JobCard({ data, titulo, empresa, ubicacion, descripcion }) {
        const [isApplied, setIsApplied] = React.useState(false);

        console.log("render")

        function handleClick() {
          setIsApplied(!isApplied);
        }

        const text = isApplied ? "Aplicado" : "Aplicar";
        const buttonClass = isApplied ? "is-applied" : "";


        return (
          <article 
            className="job-listing-card" 
            data-modalidad={data?.modalidad}
            data-nivel={data?.nivel}
            data-technology={data?.technology}
          >
            <div>
              <h3>{titulo}</h3>
              <small>{empresa} - {ubicacion}</small>
              <p>{descripcion}</p>
            </div>
            <button   
              className={`button-apply-job`}
              id="boton-importante"
              onClick={handleClick}
            >{text}</button>
          </article>
        );
      }

      function App() {
        return (
          <div className="jobs-listings">
            <JobCard
              titulo="Desarrollador Frontend"
              empresa="Empresa de tecnología"
              ubicacion="Ciudad de México"
              descripcion="Descripción del trabajo"
              data={{
                modalidad: "Remoto",
                nivel: "Senior",
                technology: "JavaScript"
              }}
            />
          </div>
        );
      }


      const rootEl = document.querySelector("#root"); //donde sera renderizado
      const root = ReactDOM.createRoot(rootEl); //crea el root
      root.render(App()); //renderiza el root



    </script>
    
    <title>DevJobs - Empleos</title>
    
  </head>

  <body>
    <header>
      <h1>
        <svg
          fill="none"
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        DevJobs
      </h1>

      <nav>
        <!-- <a href="#" target="_blank" rel="noopener noreferrer">Inicio</a> -->
        <a href="empleos.html">Empleos</a>
      </nav>

      <div>
        <devjobs-avatar></devjobs-avatar>
      </div>
    </header>

    <main>
      <section class="jobs-search">
        <h1>React.js, primeros pasos</h1>
        
      </section>
      <section>
        <h2>Empleos disponibles</h2>
        <div id="root"></div>
      </section>
    </main>

    <footer>
      <small>&copy; 2025 DevJobs. Todos los derechos reservados.</small>
    </footer>
    
  </body>
</html>